
<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<title>作業10</title>
	<style>
		h4 {
			color: red;
		}

		label {
			color: blue;
		}

		input {
			color: brown;
		}
		div {
			color: blue;
			margin: 5px;
		}
		table {
			width: 40%;
			border-color: dodgerblue;
			border-style:solid;
			border-collapse: collapse;
		}
		tr {
			text-align: left;
			border-color: dodgerblue;
			border-style:solid;
		}
		td {
			vertical-align: middle;
			border-color: dodgerblue;
			border-style:solid;
		}
		td:nth-child(1){
			color: brown;
		}
	</style>

</head>
<body>
<form id ="form01">
	姓名：<input type="text" name="name01" value="賴宗揚" id="name"><br>
	收件地址：<input type="text" name="address01" value="新北市汐止區連興街54號22樓" id="address"><br>
	電話：<input type="tel" name="tel01" value="0984465916" id="tel"><br>
	電子郵件：<input type="email" name="email01" value="shrek101.lai@gmail.com" id="email"><br>
	指定送貨日期：<input type="date" name="date01" id="date"><br>
	水果種類：<br><input type="checkbox" name="fruit" id="fruit01" value="有機木瓜(5台斤)">有機木瓜(5台斤) 425元；
	購買數量：<input type="number" name="number01" id="fruit01Num"><br>
	<input type="checkbox" name="fruit" id="fruit02" value="五月桃(8粒)">五月桃(8粒) 695元；
	購買數量：<input type="number" name="number02" id="fruit02Num"><br>
	<input type="checkbox" name="fruit" id="fruit03" value="貴妃芒果(5台斤)">貴妃芒果(5台斤) 1066元；
	購買數量：<input type="number" name="number03" id="fruit03Num"><br>
	<input type="checkbox" name="fruit" id="fruit04" value="無農藥殘留大樹玉荷包(3台斤)">無農藥殘留大樹玉荷包(3台斤) 750元；
	購買數量：<input type="number" name="number04 "id="fruit04Num"><br>
</form>

<br>
<button onclick="shoppingInfo()"><h4>確認修正</h4></button>
<div id="demo"></div>
<script>
	var text = "<h4>您的購物資訊如下：</h4>";
	var fruit = function(fruitType, fruitPrice, no){
		this.Type = fruitType;
		this.Price = fruitPrice;
		this.No = no;
		this.subTotal = function(no){
			text += "水果種類：" + this.Type + "；共" + this.No + "單位<br>";
			text += "價格小計：" + this.Price * this.No + "元<br>";
		};
	};
	var fruit01 = new fruit("有機木瓜(5台斤)",425,0);
	var fruit02 = new fruit("五月桃(8粒)",695,0);
	var fruit03 = new fruit("貴妃芒果(5台斤)",1066,0);
	var fruit04 = new fruit("無農藥殘留大樹玉荷包(3台斤)",750,0);
	var isSubmitted = false;

	function shoppingInfo(){
		var x = document.getElementById("form01");
		var item = " ";
		var sumToPay = 0;
		var i;
		text = "<h4>您的購物資訊如下:</h4>";
		for (i = 0; i < 5; i++){
			switch (i)  {
				case 0: item = "姓名：";break;
				case 1: item = "收件地址：";break;
				case 2: item = "電話：";break;
				case 3: item = "電子郵件：";break;
				case 4: item = "指定送貨日期：";break;
			}
			text += item + x.elements[i].value + "<br>";
		}
		fruit01 = new fruit("有機木瓜(5台斤)",425, parseInt(document.getElementById("fruit01Num").value));
		fruit02 = new fruit("五月桃(8粒)",695, parseInt(document.getElementById("fruit02Num").value));
		fruit03 = new fruit("貴妃芒果(5台斤)",1066, parseInt(document.getElementById("fruit03Num").value));
		fruit04 = new fruit("無農藥殘留大樹玉荷包(3台斤)",750, parseInt(document.getElementById("fruit04Num").value));

		for (i =5; i<= 11; i++) {
			if (x.elements[i].checked === true) {
				switch (i) {
					case 5: fruit01.subTotal(fruit01.No);
						sumToPay += fruit01.Price * fruit01.No;
						break;
					case 7: fruit02.subTotal(fruit02.No);
						sumToPay += fruit02.Price * fruit02.No;
						break;
					case 9: fruit03.subTotal(fruit03.No);
						sumToPay += fruit03.Price * fruit03.No;
						break;
					case 11: fruit04.subTotal(fruit04.No);
						sumToPay += fruit04.Price * fruit04.No;
						break;
				}
			}
		}
		text += "價格合計：" + sumToPay + "元<br>";
		document.getElementById("demo").innerHTML = text;

		if (!isSubmitted) {
			isSubmitted = true;
		}
	}

	document.getElementById("demo").innerHTML = text;
</script>
</body>
</html>